{"ast":null,"code":"var _jsxFileName = \"/Users/zacyou/Desktop/PattonUniversity/PattonUniverCity/src/App.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { auth, googlelogin, githublogin, logout } from './services/firebase';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Login from './pages/auth/login';\nimport Signup from './pages/auth/signup';\nimport PattonUniverCity from './pages/home/home';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [isLoggedin, setIsLoggedin] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [authenticated] = useState(true);\n  const [checkUser, setCheckUser] = useState(false);\n  const [currentUser, setCurrentUser] = useState({\n    cart: []\n  });\n  const [setUser] = useState(null);\n  const [mobile, setMobile] = useState(false);\n  const [windowDimensions, setWindowDimensions] = useState([window.innerWidth, window.innerHeight]);\n  const states = {\n    loading,\n    isLoggedin,\n    setIsLoggedin,\n    currentUser,\n    setCurrentUser,\n    windowDimensions,\n    checkUser,\n    setCheckUser,\n    mobile,\n    setMobile\n  }; // Resize by device\n\n  function useWindowSize() {\n    _s();\n\n    const [size, setSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateSize() {\n        setSize([window.innerWidth, window.innerHeight]);\n      }\n\n      window.addEventListener(\"resize\", updateSize);\n      updateSize();\n      return () => window.removeEventListener(\"resize\", updateSize);\n    }, []);\n    return size;\n  }\n\n  _s(useWindowSize, \"13XWg4Ot0MOczACYcn76+JLjv8w=\");\n\n  const [width, height] = useWindowSize(); // Listen for Mobile Devices\n\n  useEffect(() => {\n    if (!mobile) {\n      if (parseInt(windowDimensions[0]) <= 1400) {\n        setMobile(true);\n      }\n    } else if (mobile) {\n      if (parseInt(windowDimensions[0]) > 1400) {\n        setMobile(false);\n      }\n    }\n  }, [windowDimensions, mobile]); //Check if user is logged in\n\n  useEffect(() => {\n    if (!checkUser) {\n      setLoading(true);\n      Axios.get(\"/user/checkuser\").then(res => {\n        console.log(res);\n\n        if (res.data.msg === \"You are logged in\") {\n          setIsLoggedin(true);\n          setCurrentUser(res.data.user);\n          console.log('Start');\n          console.log(currentUser);\n          console.log('Stop');\n\n          function firebaseAuth() {\n            auth.onAuthStateChanged(user => user ? setUser(user) : setUser(null));\n          }\n\n          firebaseAuth();\n        } else {\n          setIsLoggedin(false);\n        }\n\n        setLoading(false);\n        setCheckUser(true);\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [checkUser, currentUser, setUser]);\n  useEffect(() => {\n    setWindowDimensions([width, height]);\n  }, [width, height]);\n  return (\n    /*#__PURE__*/\n    // loading ? <h1> Loading...</h1> : \n    //(\n    _jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          render: props => /*#__PURE__*/_jsxDEV(PattonUniverCity, { ...props,\n            authenticated: authenticated,\n            logout: logout\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          render: props => /*#__PURE__*/_jsxDEV(Login, {\n            props: props,\n            ...states,\n            currentUser: currentUser,\n            githublogin: githublogin,\n            googlelogin: googlelogin,\n            authenticated: authenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signup\",\n          render: props => /*#__PURE__*/_jsxDEV(Signup, { ...props,\n            authenticated: authenticated\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  );\n}\n\n_s2(App, \"RnZUfcwXyD/7EDVw8lC+XKo8BZc=\", true);\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/zacyou/Desktop/PattonUniversity/PattonUniverCity/src/App.js"],"names":["React","useState","useEffect","useLayoutEffect","auth","googlelogin","githublogin","logout","BrowserRouter","Switch","Route","Login","Signup","PattonUniverCity","Axios","App","isLoggedin","setIsLoggedin","loading","setLoading","authenticated","checkUser","setCheckUser","currentUser","setCurrentUser","cart","setUser","mobile","setMobile","windowDimensions","setWindowDimensions","window","innerWidth","innerHeight","states","useWindowSize","size","setSize","updateSize","addEventListener","removeEventListener","width","height","parseInt","get","then","res","console","log","data","msg","user","firebaseAuth","onAuthStateChanged","catch","err","props"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useLayoutEffect } from 'react';\nimport { auth, googlelogin, githublogin, logout } from './services/firebase';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Login from './pages/auth/login';\nimport Signup from './pages/auth/signup';\nimport PattonUniverCity from './pages/home/home';\nimport Axios from 'axios';\n\n\nexport default function App() {\n\tconst [isLoggedin, setIsLoggedin] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [authenticated] = useState(true);\n\tconst [checkUser, setCheckUser] = useState(false);\n\tconst [currentUser, setCurrentUser] = useState({ cart: [] });\n\tconst [setUser] = useState(null);\n\tconst [mobile, setMobile] = useState(false);\n\tconst [windowDimensions, setWindowDimensions] = useState([\n\t\twindow.innerWidth,\n\t\twindow.innerHeight,\n\t]);\n\n  const states = {\n\t\tloading,\n\t\tisLoggedin,\n\t\tsetIsLoggedin,\n\t\tcurrentUser,\n\t\tsetCurrentUser,\n\t\twindowDimensions,\n\t\tcheckUser,\n\t\tsetCheckUser,\n\t\tmobile,\n\t\tsetMobile,\n\t};\n\n  // Resize by device\n\tfunction useWindowSize() {\n\t\tconst [size, setSize] = useState([0, 0]);\n\t\tuseLayoutEffect(() => {\n\t\t\tfunction updateSize() {\n\t\t\t\tsetSize([window.innerWidth, window.innerHeight]);\n\t\t\t}\n\t\t\twindow.addEventListener(\"resize\", updateSize);\n\t\t\tupdateSize();\n\t\t\treturn () => window.removeEventListener(\"resize\", updateSize);\n\t\t}, []);\n\t\treturn size;\n\t}\n\n\tconst [width, height] = useWindowSize();\n\n  \t// Listen for Mobile Devices\n\tuseEffect(() => {\n\t\tif (!mobile) {\n\t\t\tif (parseInt(windowDimensions[0]) <= 1400) {\n\t\t\t\tsetMobile(true);\n\t\t\t}\n\t\t} else if (mobile) {\n\t\t\tif (parseInt(windowDimensions[0]) > 1400) {\n\t\t\t\tsetMobile(false);\n\t\t\t}\n\t\t}\n\t}, [windowDimensions, mobile]);\n\n//Check if user is logged in\n  useEffect(() => {\n\t\tif (!checkUser) {\n\t\t\tsetLoading(true);\n\t\t\tAxios.get(\"/user/checkuser\")\n\t\t\t\t.then((res) => {\n          console.log(res)\n\t\t\t\t\tif (res.data.msg === \"You are logged in\") {\n\t\t\t\t\t\tsetIsLoggedin(true);\n\t\t\t\t\t\tsetCurrentUser(res.data.user);\n            console.log('Start')\n            console.log(currentUser)\n            console.log('Stop')\n\t\t\tfunction firebaseAuth() {\n\t\t\t\tauth.onAuthStateChanged(user => (\n\t\t\t\t  user ? setUser(user)\n\t\t\t\t  :\n\t\t\t\t  setUser(null)))\n\t\t\t  }\n            firebaseAuth();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsLoggedin(false);\n\t\t\t\t\t}\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\tsetCheckUser(true);\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t}\n\t}, [checkUser, currentUser, setUser]);\n\n\n  \n\n\n  useEffect(() => {\n\t\tsetWindowDimensions([width, height]);\n\t}, [width, height]);\n\n\n    return (\n\t// loading ? <h1> Loading...</h1> : \n\t//(\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" render={(props) => (<PattonUniverCity {...props} authenticated={authenticated} logout={logout} />)} />\n          <Route exact path=\"/login\" render={(props) => (<Login props={props} {...states} currentUser={currentUser} githublogin={githublogin} googlelogin={googlelogin} authenticated={authenticated} />)} />\n          <Route exact path=\"/signup\" render={(props) => (<Signup {...props} authenticated={authenticated} />)} />\n        </Switch>\n      </BrowserRouter>\n\n    );\n  }\n\n"]},"metadata":{},"sourceType":"module"}